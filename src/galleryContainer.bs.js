// Generated by BUCKLESCRIPT VERSION 2.2.3, PLEASE EDIT WITH CARE

import * as Css from "../node_modules/bs-css/src/Css.js";
import * as React from "react";
import * as Caml_array from "../node_modules/bs-platform/lib/es6/caml_array.js";
import * as ReasonReact from "../node_modules/reason-react/src/ReasonReact.js";
import * as Gallery$PhotoManager from "./gallery.bs.js";
import * as FullPageSpinner$PhotoManager from "./fullPageSpinner.bs.js";

var component = ReasonReact.statelessComponent("GalleryContainer");

var cls = Css.style(/* :: */[
      Css.padding4(Css.px(56), Css.px(8), Css.px(8), Css.px(8)),
      /* :: */[
        Css.position(Css.absolute),
        /* :: */[
          Css.width(/* `percent */[
                -119887163,
                100.0
              ]),
          /* :: */[
            Css.height(/* `percent */[
                  -119887163,
                  100.0
                ]),
            /* :: */[
              Css.boxSizing(Css.borderBox),
              /* [] */0
            ]
          ]
        ]
      ]
    ]);

function make($staropt$star, gallery, $staropt$star$1, moreGallery, loadNextPage, submitRating, _) {
  var loading = $staropt$star ? $staropt$star[0] : /* false */0;
  var moreLoading = $staropt$star$1 ? $staropt$star$1[0] : /* false */0;
  var newrecord = component.slice();
  newrecord[/* render */9] = (function () {
      var exit = 0;
      if (loading !== 0 || moreLoading !== 0) {
        exit = 1;
      } else {
        var newDescendants = gallery.descendants.map((function (descendant) {
                var foundIndex = moreGallery.descendants.findIndex((function (moreDescendant) {
                        return +(moreDescendant.id === descendant.id);
                      }));
                if (foundIndex >= 0) {
                  var descendants = moreGallery.descendants;
                  var foundDescendant = Caml_array.caml_array_get(descendants, foundIndex);
                  return Object.assign({ }, descendant, foundDescendant);
                } else {
                  return descendant;
                }
              }));
        var newGallery = Object.assign({ }, gallery, {
              descendants: newDescendants
            });
        return React.createElement("div", {
                    className: cls
                  }, ReasonReact.element(/* None */0, /* None */0, Gallery$PhotoManager.make(/* Some */[newGallery.name], /* Some */[newGallery.path], /* Some */[newGallery.slug], /* Some */[newGallery.descendants], loadNextPage, submitRating, /* array */[])));
      }
      if (exit === 1) {
        return React.createElement("div", {
                    className: cls
                  }, ReasonReact.element(/* None */0, /* None */0, FullPageSpinner$PhotoManager.make(/* array */[])));
      }
      
    });
  return newrecord;
}

var $$default = ReasonReact.wrapReasonForJs(component, (function (jsProps) {
        return make(/* Some */[+jsProps.queryData.loading], jsProps.queryData.gallery, /* Some */[+jsProps.moreLoading], jsProps.moreGallery, jsProps.loadNextPage, jsProps.submitRating, /* array */[]);
      }));

export {
  component ,
  cls ,
  make ,
  $$default ,
  $$default as default,
  
}
/* component Not a pure module */
